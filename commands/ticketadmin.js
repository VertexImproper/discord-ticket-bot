const { SlashCommandBuilder } = require('discord.js'); const config = require('../config.json'); const fs = require('fs'); module.exports = { data: new SlashCommandBuilder() .setName('ticketadmin') .setDescription('Manage ticket admins') .addSubcommand(sub => sub.setName('add').setDescription('Add a ticket admin').addUserOption(opt => opt.setName('user').setDescription('User to add').setRequired(true))) .addSubcommand(sub => sub.setName('remove').setDescription('Remove a ticket admin').addUserOption(opt => opt.setName('user').setDescription('User to remove').setRequired(true))), async execute(interaction) { if (!interaction.member.permissions.has('ManageGuild')) { return interaction.reply({ content: 'You lack permission.', ephemeral: true }); } const sub = interaction.options.getSubcommand(); const user = interaction.options.getUser('user'); if (sub === 'add') { if (!config.ticketAdmins.includes(user.id)) { config.ticketAdmins.push(user.id); fs.writeFileSync('../config.json', JSON.stringify(config, null, 2)); } return interaction.reply({ content: `✅ ${user.tag} added as ticket admin.`, ephemeral: true }); } if (sub === 'remove') { config.ticketAdmins = config.ticketAdmins.filter(id => id !== user.id); fs.writeFileSync('../config.json', JSON.stringify(config, null, 2)); return interaction.reply({ content: `✅ ${user.tag} removed from ticket admins.`, ephemeral: true }); } }, };
